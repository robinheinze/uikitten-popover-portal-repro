{"id":"node_modules/@ui-kitten/components/ui/popover/popover.component.js","dependencies":[{"name":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js.map","includedInParent":true,"mtime":1606174345611},{"name":"/Users/rheinze/Code/uikitten-popover-repro/package.json","includedInParent":true,"mtime":1609961906808},{"name":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/package.json","includedInParent":true,"mtime":1606174345611},{"name":"react","loc":{"line":11,"column":40},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/react/index.js"},{"name":"react-native","loc":{"line":12,"column":31},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/react-native-web/dist/index.js"},{"name":"../../devsupport","loc":{"line":13,"column":29},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/devsupport/index.js"},{"name":"../../theme","loc":{"line":14,"column":24},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/theme/index.js"},{"name":"./popoverView.component","loc":{"line":15,"column":40},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popoverView.component.js"},{"name":"./placement.service","loc":{"line":16,"column":36},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/placement.service.js"},{"name":"./type","loc":{"line":17,"column":23},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/popover.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/popover/type.js"}],"generated":{"js":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst devsupport_1 = require(\"../../devsupport\");\nconst theme_1 = require(\"../../theme\");\nconst popoverView_component_1 = require(\"./popoverView.component\");\nconst placement_service_1 = require(\"./placement.service\");\nconst type_1 = require(\"./type\");\n/**\n * Displays a content positioned relative to another view.\n *\n * @extends React.Component\n *\n * @method {() => void} show - Sets `content` component visible.\n *\n * @method {() => void} hide - Sets `content` component invisible.\n *\n * @property {boolean} visible - Whether content component is visible.\n * Defaults to false.\n *\n * @property {() => ReactElement} anchor - A component relative to which content component will be shown.\n *\n * @property {ReactElement} children - A component displayed within the popover.\n *\n * @property {() => void} onBackdropPress - Called when popover is visible and the underlying view was touched.\n * Useful when needed to close the modal on outside touches.\n *\n * @property {boolean} fullWidth - Whether a content component should take the width of `anchor`.\n *\n * @property {string | PopoverPlacement} placement - Position of the content component relative to the `anchor`.\n * Can be `left`, `top`, `right`, `bottom`, `left start`, `left end`, `top start`, `top end`, `right start`,\n * `right end`, `bottom start` or `bottom end`.\n * Defaults to *bottom*.\n *\n * @property {StyleProp<ViewStyle>} backdropStyle - Style of backdrop.\n *\n * @property {ViewProps} ...ViewProps - Any props applied to View component.\n *\n * @overview-example PopoverSimpleUsage\n * Popover accepts it's content as child element and is displayed relative to `anchor` view.\n *\n * @overview-example PopoverPlacement\n * By default, it is displayed to the bottom of `anchor` view, but it is configurable with `placement` property.\n *\n * @overview-example PopoverFullWidth\n * Popover may take the full width of the anchor view by configuring `fullWidth` property.\n *\n * @overview-example PopoverStyledBackdrop\n * To style the underlying view, `backdropStyle` property may be used.\n */\nclass Popover extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            childFrame: devsupport_1.Frame.zero(),\n            anchorFrame: devsupport_1.Frame.zero(),\n            forceMeasure: false,\n        };\n        this.contentPosition = devsupport_1.Point.outscreen();\n        this.placementService = new placement_service_1.PopoverPlacementService();\n        this.actualPlacement = this.preferredPlacement;\n        this.show = () => {\n            this.modalId = theme_1.ModalService.show(this.renderMeasuringPopoverElement(), this.backdropConfig);\n        };\n        this.hide = () => {\n            this.modalId = theme_1.ModalService.hide(this.modalId);\n        };\n        this.onChildMeasure = (childFrame) => {\n            this.state.childFrame = childFrame;\n            if (!this.modalId && this.props.visible) {\n                this.show();\n                return;\n            }\n            if (this.modalId && this.props.visible) {\n                theme_1.ModalService.update(this.modalId, this.renderPopoverElement());\n            }\n        };\n        this.onContentMeasure = (anchorFrame) => {\n            this.state.anchorFrame = anchorFrame;\n            const placementOptions = this.findPlacementOptions(anchorFrame, this.state.childFrame);\n            this.actualPlacement = this.placementService.find(this.preferredPlacement, placementOptions);\n            const displayFrame = this.actualPlacement.frame(placementOptions);\n            this.contentPosition = displayFrame.origin;\n            theme_1.ModalService.update(this.modalId, this.renderPopoverElement());\n        };\n        this.findPlacementOptions = (contentFrame, childFrame) => {\n            const width = this.props.fullWidth ? childFrame.size.width : contentFrame.size.width;\n            const frame = new devsupport_1.Frame(contentFrame.origin.x, contentFrame.origin.y, width, contentFrame.size.height);\n            return new type_1.PlacementOptions(frame, childFrame, devsupport_1.Frame.window(), devsupport_1.Frame.zero());\n        };\n        this.renderContentElement = () => {\n            const contentElement = this.props.children;\n            const fullWidthStyle = { width: this.state.childFrame.size.width };\n            return react_1.default.cloneElement(contentElement, {\n                style: [this.props.fullWidth && fullWidthStyle, contentElement.props.style],\n            });\n        };\n        this.renderPopoverElement = () => {\n            return (react_1.default.createElement(popoverView_component_1.PopoverView, Object.assign({}, this.props, { contentContainerStyle: [this.props.contentContainerStyle, styles.popoverView, this.contentFlexPosition], placement: this.actualPlacement.reverse() }), this.renderContentElement()));\n        };\n        this.renderMeasuringPopoverElement = () => {\n            return (react_1.default.createElement(devsupport_1.MeasureElement, { onMeasure: this.onContentMeasure }, this.renderPopoverElement()));\n        };\n    }\n    get preferredPlacement() {\n        return type_1.PopoverPlacements.parse(this.props.placement);\n    }\n    get contentFlexPosition() {\n        const { x: left, y: top } = this.contentPosition;\n        return { left, top };\n    }\n    get backdropConfig() {\n        const { onBackdropPress, backdropStyle } = this.props;\n        return {\n            onBackdropPress,\n            backdropStyle,\n        };\n    }\n    componentDidUpdate(prevProps) {\n        if (!this.modalId && this.props.visible && !this.state.forceMeasure) {\n            this.setState({ forceMeasure: true });\n            return;\n        }\n        if (this.modalId && !this.props.visible) {\n            this.contentPosition = devsupport_1.Point.outscreen();\n            this.hide();\n        }\n    }\n    componentWillUnmount() {\n        this.hide();\n    }\n    render() {\n        return (react_1.default.createElement(devsupport_1.MeasureElement, { force: this.state.forceMeasure, onMeasure: this.onChildMeasure }, this.props.anchor()));\n    }\n}\nexports.Popover = Popover;\nPopover.defaultProps = {\n    placement: type_1.PopoverPlacements.BOTTOM,\n};\nconst styles = react_native_1.StyleSheet.create({\n    popoverView: {\n        position: 'absolute',\n    },\n});\n"},"sourceMaps":{"js":{"version":3,"file":"popover.component.js","sourceRoot":"","sources":["../../../../../src/components/ui/popover/popover.component.tsx"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"b1aa4dfa1e6c49bdbc9b883d576aa433","cacheData":{"env":{}}}