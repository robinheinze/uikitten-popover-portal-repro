{"id":"node_modules/@ui-kitten/components/ui/modal/modal.component.js","dependencies":[{"name":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/modal/modal.component.js.map","includedInParent":true,"mtime":1606174345611},{"name":"/Users/rheinze/Code/uikitten-popover-repro/package.json","includedInParent":true,"mtime":1609961906808},{"name":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/package.json","includedInParent":true,"mtime":1606174345611},{"name":"react","loc":{"line":11,"column":40},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/modal/modal.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/react/index.js"},{"name":"react-native","loc":{"line":12,"column":31},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/modal/modal.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/react-native-web/dist/index.js"},{"name":"../../devsupport","loc":{"line":13,"column":29},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/modal/modal.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/devsupport/index.js"},{"name":"../../theme","loc":{"line":14,"column":24},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/modal/modal.component.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/theme/index.js"}],"generated":{"js":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst devsupport_1 = require(\"../../devsupport\");\nconst theme_1 = require(\"../../theme\");\n/**\n * A wrapper that presents content above an enclosing view.\n *\n * @extends React.Component\n *\n * @method {() => void} show - Sets modal visible.\n *\n * @method {() => void} hide - Sets modal invisible.\n *\n * @property {ReactNode} children - Component to render within the modal.\n *\n * @property {boolean} visible - Whether component is visible.\n * Defaults to false.\n *\n * @property {() => void} onBackdropPress - Called when the modal is visible and the view below it was touched.\n * Useful when needed to close the modal on outside touches.\n *\n * @property {StyleProp<ViewStyle>} backdropStyle - Style of backdrop.\n *\n * @property {ViewProps} ...ViewProps - Any props applied to View component.\n *\n * @overview-example ModalSimpleUsage\n * Modals accept content views as child elements and are displayed in the screen center.\n * To display a modal, a `visible` property should be used.\n *\n * @overview-example ModalWithBackdrop\n * To configure underlying view, `backdropStyle` and `onBackdropPress` properties may be used.\n */\nclass Modal extends react_1.default.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            contentFrame: devsupport_1.Frame.zero(),\n            forceMeasure: false,\n        };\n        this.contentPosition = devsupport_1.Point.outscreen();\n        this.show = () => {\n            this.modalId = theme_1.ModalService.show(this.renderMeasuringContentElement(), this.backdropConfig);\n        };\n        this.hide = () => {\n            this.modalId = theme_1.ModalService.hide(this.modalId);\n        };\n        this.onContentMeasure = (contentFrame) => {\n            this.state.contentFrame = contentFrame;\n            const displayFrame = this.state.contentFrame.centerOf(devsupport_1.Frame.window());\n            this.contentPosition = displayFrame.origin;\n            theme_1.ModalService.update(this.modalId, this.renderContentElement());\n        };\n        this.renderContentElement = () => {\n            return (react_1.default.createElement(react_native_1.View, Object.assign({}, this.props, { style: [this.props.style, styles.modalView, this.contentFlexPosition] })));\n        };\n        this.renderMeasuringContentElement = () => {\n            return (react_1.default.createElement(devsupport_1.MeasureElement, { onMeasure: this.onContentMeasure }, this.renderContentElement()));\n        };\n    }\n    get contentFlexPosition() {\n        const derivedStyle = react_native_1.StyleSheet.flatten(this.props.style || {});\n        const { x: centerX, y: centerY } = this.contentPosition;\n        // @ts-ignore\n        return { left: derivedStyle.left || centerX, top: derivedStyle.top || centerY };\n    }\n    get backdropConfig() {\n        const { onBackdropPress, backdropStyle } = this.props;\n        return { onBackdropPress, backdropStyle };\n    }\n    componentDidMount() {\n        if (!this.modalId && this.props.visible) {\n            this.show();\n            return;\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (!this.modalId && this.props.visible && !this.state.forceMeasure) {\n            this.setState({ forceMeasure: true });\n            return;\n        }\n        if (!this.modalId && this.props.visible) {\n            this.show();\n            return;\n        }\n        if (this.modalId && !this.props.visible) {\n            this.hide();\n        }\n    }\n    componentWillUnmount() {\n        this.hide();\n    }\n    render() {\n        if (this.modalId && this.props.visible) {\n            theme_1.ModalService.update(this.modalId, this.renderContentElement());\n        }\n        return null;\n    }\n}\nexports.Modal = Modal;\nconst styles = react_native_1.StyleSheet.create({\n    modalView: {\n        position: 'absolute',\n    },\n});\n"},"sourceMaps":{"js":{"version":3,"file":"modal.component.js","sourceRoot":"","sources":["../../../../../src/components/ui/modal/modal.component.tsx"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"66c4c8307853f5205f3c0730fbdfcf45","cacheData":{"env":{}}}