{"id":"node_modules/@ui-kitten/components/ui/spinner/animation.js","dependencies":[{"name":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/spinner/animation.js.map","includedInParent":true,"mtime":1606174345611},{"name":"/Users/rheinze/Code/uikitten-popover-repro/package.json","includedInParent":true,"mtime":1609961906808},{"name":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/package.json","includedInParent":true,"mtime":1606174345611},{"name":"react-native","loc":{"line":8,"column":31},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/spinner/animation.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/react-native-web/dist/index.js"},{"name":"../animation/animation","loc":{"line":9,"column":28},"parent":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/spinner/animation.js","resolved":"/Users/rheinze/Code/uikitten-popover-repro/node_modules/@ui-kitten/components/ui/animation/animation.js"}],"generated":{"js":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_native_1 = require(\"react-native\");\nconst animation_1 = require(\"../animation/animation\");\nconst PI = 180;\nconst PI2 = 360;\nconst OFFSET_MIN = PI / 12;\nconst OFFSET_MAX = PI / 6;\nconst BaseBezierEasing = react_native_1.Easing.bezier(0.4, 0.0, 0.7, 1.0);\nconst StartArcEasing = (progress) => {\n    return -PI + OFFSET_MIN + (PI - OFFSET_MAX) * BaseBezierEasing(progress);\n};\nconst EndArcEasing = (progress) => {\n    return PI2 - OFFSET_MIN + (-PI + OFFSET_MAX) * BaseBezierEasing(progress);\n};\nconst DEFAULT_CONFIG = {\n    duration: 2400,\n    easing: react_native_1.Easing.linear,\n    cycles: -1,\n    useNativeDriver: react_native_1.Platform.OS !== 'web',\n};\n/**\n * Animates a Spinner in a Material Design way.\n *\n * Thanks these guys for open sourcing the algorithm: https://github.com/n4kz/react-native-indicators\n */\nclass SpinnerAnimation extends animation_1.Animation {\n    constructor(arcSize, config) {\n        super({ ...DEFAULT_CONFIG, ...config });\n        /**\n         * @param {number} duration - animation duration.\n         * @returns an array of frames fitted into animation.\n         */\n        this.createFrameRange = (duration) => {\n            const numberOfFrames = 60 * duration / 1000;\n            return new Array(numberOfFrames).fill(0);\n        };\n        this.createContainerInterpolation = () => {\n            return this.animationValue.interpolate({\n                inputRange: [0, 1],\n                outputRange: [\n                    this.toDegValue(OFFSET_MAX + OFFSET_MIN),\n                    this.toDegValue((2 * PI2 + OFFSET_MAX + OFFSET_MIN)),\n                ],\n            });\n        };\n        this.createArcInterpolation = (easing) => {\n            return this.animationValue.interpolate({\n                inputRange: this.createArcInterpolationInputRange(),\n                outputRange: this.createArcInterpolationOutputRange(easing),\n            });\n        };\n        /**\n         * Maps the animation frames into initial animation values specific for each frame.\n         *\n         * @returns a container interpolation input range in a numeric format.\n         */\n        this.createArcInterpolationInputRange = () => {\n            return this.animationFrames.map((item, frame) => {\n                return frame / (this.animationFrames.length - 1);\n            });\n        };\n        /**\n         * Maps the animation frames into a final animation values specific for each frame.\n         *\n         * @param {(progress: number) => number} easing - Easing function specific for the arc.\n         * @returns an arc interpolation end values eased with an `easing` function in a StyleSheet degree format.\n         */\n        this.createArcInterpolationOutputRange = (easing) => {\n            return this.animationFrames.map((item, frame) => {\n                const progress = 2 * frame / (this.animationFrames.length - 1);\n                const boundedProgress = Math.min(2.0 - progress, progress);\n                return this.toDegValue(easing(boundedProgress));\n            });\n        };\n        /**\n         * @param {Animated.AnimatedInterpolation} rotate - animated rotation animationValue.\n         * @param {ViewStyle} source - initial StyleSheet object.\n         * @returns a final StyleSheet object with a `rotate` animation value.\n         */\n        this.toStyleTransformProp = (rotate, source = {}) => {\n            const transform = [...(source.transform || []), { rotate }];\n            // @ts-ignore: AnimatedInterpolation does not fit RotateTransform type declaration\n            return { ...source, transform };\n        };\n        /**\n         * @param {number} source - degrees in a numeric format.\n         * @returns degrees in a StyleSheet format.\n         */\n        this.toDegValue = (source) => {\n            return `${source}deg`;\n        };\n        this.arcSize = arcSize;\n        this.animationValue = new react_native_1.Animated.Value(0);\n        this.animationFrames = this.createFrameRange(this.config.duration);\n    }\n    get animation() {\n        return react_native_1.Animated.timing(this.animationValue, { toValue: 1.0, ...this.config });\n    }\n    start(callback) {\n        // reset animation value before the next animation cycle\n        this.animationValue.setValue(0);\n        super.start(callback);\n    }\n    stop() {\n        super.stop();\n        this.animationValue.setValue(0);\n    }\n    /**\n     * @returns {SpinnerAnimationStyle} - an object that contains container, start and end arcs transform styles.\n     */\n    toProps() {\n        const containerInterpolation = this.createContainerInterpolation();\n        const startArcInterpolation = this.createArcInterpolation(StartArcEasing);\n        const endArcInterpolation = this.createArcInterpolation(EndArcEasing);\n        return {\n            container: this.toStyleTransformProp(containerInterpolation),\n            start: this.toStyleTransformProp(startArcInterpolation),\n            end: this.toStyleTransformProp(endArcInterpolation, {\n                transform: [{ translateY: -this.arcSize / 2 }],\n            }),\n        };\n    }\n}\nexports.SpinnerAnimation = SpinnerAnimation;\n"},"sourceMaps":{"js":{"version":3,"file":"animation.js","sourceRoot":"","sources":["../../../../../src/components/ui/spinner/animation.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"d66c08bca29fd86e04b12e904bd4eb7f","cacheData":{"env":{}}}